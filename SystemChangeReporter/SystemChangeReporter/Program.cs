using System;
using System.IO;
using System.Security.Permissions;

namespace SystemMonitor
{
    class Program
    {
        public static String path = "C:\\";
        public static void Main()
        {

            string[] args = System.Environment.GetCommandLineArgs();
            // If a directory is not specified, exit program. 
            if (args.Length < 2)
            {
                // Display the proper way to call the program.
                Console.WriteLine("Usage: Watcher.exe (directory)");
                return;
            }

            //Console.WriteLine("In directory: {0}", Watcher.path);
            DirectoryInfo info = new DirectoryInfo(".");
            String file = @info.FullName + "\\Log.txt";
            StreamWriter sw = File.CreateText(file);
            sw.Close();

            SystemMonitor.Watcher watch = new SystemMonitor.Watcher(args[1], file);

            // Wait for the user to quit the program.
            Console.WriteLine("Press \'q\' to quit the sample.");
            while (Console.Read() != 'q') ;
        }
    }
}